{% extends "base.html" %}

{% block extra_head %}
<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css'> 
<link rel="stylesheet" href="{{ url_for('static', filename='css/bulma-steps.min.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/my-bulma-steps.css') }}">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<style>
    .link-container {
        display: inline-block;
        margin-right: 40px;
    }

    .container>p { 
        display: flex;
        justify-content: space-between;
    } 

    .container>.tabs { 
        margin-top: 30px; 
    } 

    .buttons-container {
        display: flex;
        justify-content: space-between;
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        z-index: 10;
        background: white;
        padding: 10px;
        box-shadow: 0 -2px 5px rgba(0,0,0,0.2);
    }

    .buttons-container .button {
        border: none;
        background: transparent;
    }

    .buttons-container .button i {
        font-size: 24px;
        color: #3273dc;
    }

    #submit-btn i {
        color: #23d160;
    }

    /* Add margin-top to account for fixed header */
    .content-wrapper {
        margin-top: 100px;
    }
</style>
{% endblock %}

{% block content %}
<div class="content-wrapper">
    <h2 class="subtitle has-text-centered">Strategic Allocation For Preferred Lifestyle & Peace Of Mind</h2>

    <br>
    <br>
    <div class="container"> 
        <div id="message-container"></div>
        <div class="steps my-step-style has-content-centered" id="steps-plan" style="margin-bottom: 1rem;">
            <div class="steps-segment is-active" id="funds" data-target="funds">
                <a href="#">
                    <span class="steps-marker is-primary">1</span>
                    <div class="steps-content">
                      <p class="is-size-6">Funds</p>
                    </div>
                </a>
            </div>
            <div class="steps-segment is-dashed" id="expenses" data-target="expenses">
                <a href="#">
                    <span class="steps-marker is-primary">2</span>
                    <div class="steps-content">
                      <p class="is-size-6">Expenses</p>
                    </div>
                </a>                    
            </div>
            <div class="steps-segment is-dashed" id="income" data-target="income">
                <a href="#">
                    <span class="steps-marker is-info">?</span>
                    <div class="steps-content">
                      <p class="is-size-6">Income</p>
                    </div>
                </a>
            </div>
            <div class="steps-segment" id="strategic" data-target="strategic">
                <a href="#">
                    <span class="steps-marker is-info">?</span>
                    <div class="steps-content">
                      <p class="is-size-6">Risk Handling</p>
                    </div>
                </a>
            </div>
        </div>         
        
        <div class="buttons-container">
            <button class="button is-info is-light" id="prev-btn" disabled><i class="fas fa-arrow-left"></i></button>
            
            <article>
                **Privacy Statement:** <br>
                Your data is securely discarded after delivering the Excel. We do not retain any trace of your submitted data or the generated results. Your privacy matters!
            </article>
            <div class="buttons is-pulled-right">
                <button class="button is-success is-light is-hidden" type="submit" id="submit-btn">
                    <span class="icon is-small"><i class="fas fa-check"></i></span>
                    <span>Submit</span></button>
                <button class="button is-info is-light" id="next-btn"><i class="fas fa-arrow-right"></i></button>
            </div>
        </div>
        
        <div class="content-container" style="padding-bottom: 60px; margin-top: 0;">
            <div id="tab-content">
                <form id="rform" novalidate> 
                    <div id="funds-content" class="content-tab"></div>
                    <div id="expenses-content" class="content-tab" style="display:none;"></div>
                    <div id="income-content" class="content-tab" style="display:none;"></div>
                    <div id="strategic-content" class="content-tab" style="display:none;"></div>
                </form>
            </div>
        </div>
    </div> 
</div>
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="{{ url_for('static', filename='js/plan/plan.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/utilities/json_data.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/utilities/validation.js') }}"></script>
{% endblock %}
